<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>ByteZero | Red Team Write-ups</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="assets/css/main.css">

<style>
:root{
  --bg:#000;
  --panel:#0b0b11;
  --panel2:#020617;
  --txt:#e5e7eb;
  --muted:#a1a1aa;
  --red:#ff0033;
  --pink:#ff3b8f;
  --blue:#38bdf8;
  --blue2:#60a5fa;
}
*{box-sizing:border-box}
body{
  background: radial-gradient(circle at top, #0a0a0a, #000);
  color:var(--txt);
  font-family:Poppins,system-ui;
  overflow-x:hidden;
}
body::before{
  content:"";
  position:fixed; inset:0;
  pointer-events:none;
  background: linear-gradient(to bottom, transparent 50%, rgba(255,0,0,.06) 51%);
  background-size: 100% 4px;
  opacity:.18;
  z-index:0;
}
body::after{
  content:"";
  position:fixed; inset:0;
  pointer-events:none;
  background: repeating-linear-gradient(rgba(255,0,0,.02), rgba(0,0,0,.05) 2px);
  opacity:.18;
  z-index:0;
}
header, section, footer, .navbar, .container { position:relative; z-index:2; }

/* HERO */
.hero{
  position:relative;
  padding:100px 0 60px;
  text-align:center;
  background:
    radial-gradient(circle at top,
      rgba(255,0,120,.35) 0%,
      rgba(120,0,60,.35) 35%,
      #050007 75%
    ),
    linear-gradient(180deg,#120004,#000);
  border-bottom:1px solid rgba(255,0,120,.45);
  box-shadow:
    inset 0 0 120px rgba(255,0,120,.25),
    0 0 80px rgba(255,0,120,.35);
  overflow:hidden;
}
.hero{ --matrix-color:rgba(255,0,120,.85); }
#matrix-canvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  z-index:1;
  pointer-events:none;
  opacity:.55;
}
.hero > .container{ position:relative; z-index:2; }
.hero::after{
  content:"";
  position:absolute;
  bottom:0;
  left:5%;
  width:90%;
  height:2px;
  background:linear-gradient(90deg, transparent, #ff2aa3, #ff5fd2, #ff2aa3, transparent);
  box-shadow:0 0 25px #ff2aa3;
}
.hero h1{
  margin:12px 0 8px;
  font-weight:1000;
  font-size: clamp(2.1rem, 4vw, 3.2rem);
  letter-spacing:.08em;
  background: linear-gradient(90deg,#fff,#ff9ad5,#ff3b8f);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:
    0 0 14px rgba(255,255,255,.45),
    0 0 30px rgba(255,0,136,.75),
    0 0 60px rgba(180,0,90,.65);
  min-height: 1.25em;
}
.hero p{
  margin:0 auto;
  max-width:860px;
  color:#ffddea;
  opacity:.92;
  text-shadow: 0 0 12px rgba(255,0,136,.25);
}
.hero-line{
  height:2px;
  width:min(900px, 90%);
  margin: 26px auto 0;
  background: linear-gradient(90deg, transparent, #ff2aa3, #ff5fd2, #ff2aa3, transparent);
  box-shadow: 0 0 22px rgba(255,0,136,.65);
}

/* CONTROLS */
.controls{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
  align-items:center;
  margin-top:22px;
}
.pill{
  background: rgba(2,6,23,.55);
  border:1px solid rgba(148,163,184,.35);
  color: var(--txt);
  padding: 9px 15px;
  border-radius: 999px;
  font-weight: 900;
  letter-spacing:.04em;
  font-size:.82rem;
  cursor:pointer;
  transition:.25s ease;
  display:inline-flex;
  align-items:center;
  gap:8px;
}
.pill:hover{
  transform: translateY(-2px);
  border-color: rgba(255,0,136,.55);
  box-shadow: 0 0 14px rgba(255,0,136,.35);
}
.pill.active{
  background: linear-gradient(90deg,var(--red),var(--pink));
  color:#020617;
  border-color:#ff99ff;
  box-shadow: 0 0 18px rgba(255,0,136,.55);
}
.search{
  display:flex;
  align-items:center;
  gap:10px;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(2,6,23,.65);
  border: 1px solid rgba(148,163,184,.35);
  min-width: min(560px, 92vw);
  transition:.25s ease;
}
.search i{ color:#ffb3da; }
.search:focus-within{
  border-color: rgba(255,0,136,.55);
  box-shadow: 0 0 18px rgba(255,0,136,.30);
}
#searchInput{
  width:100%;
  background:transparent;
  border:0;
  outline:0;
  color:#fff;
  font-size:.92rem;
}

/* TITLE */
.section-title{
  text-align:center;
  font-weight: 1000;
  letter-spacing:.14em;
  text-transform: uppercase;
  color:#ff99cc;
  text-shadow: 0 0 18px rgba(255,0,136,.30);
  margin-bottom: 18px;
}

/* CARDS */
.lab-card.hide{ display:none !important; }
.lab-card{
  opacity:0;
  transform: translateY(30px);
  transition: .55s ease;
}
.lab-card.show{
  opacity:1;
  transform:none;
}
.neon-card{
  background: linear-gradient(180deg,var(--panel),var(--panel2));
  border-radius: 18px;
  overflow:hidden;
  border:1px solid rgba(59,130,246,.22);
  box-shadow: 0 0 22px rgba(0,0,0,.65), inset 0 0 25px rgba(0,0,0,.55);
  transition: transform .35s ease, box-shadow .35s ease, border-color .35s ease;
  height:100%;
}
.neon-card:hover{
  transform: translateY(-10px) scale(1.02);
  border-color: rgba(255,0,136,.55);
  box-shadow:
    0 0 35px rgba(255,0,136,.35),
    0 0 65px rgba(56,189,248,.22),
    inset 0 0 25px rgba(0,0,0,.55);
}
.thumb{
  position:relative;
  height: 210px;
  overflow:hidden;
  border-bottom:1px solid rgba(148,163,184,.12);
  background: radial-gradient(circle at top, rgba(255,0,136,.12), transparent 60%);
}
.thumb img{
  width:100%;
  height:100%;
  object-fit:cover;
  filter: contrast(1.08) brightness(.9);
  transition:.45s ease;
}
.neon-card:hover .thumb img{
  transform: scale(1.08);
  filter: contrast(1.15) brightness(1);
}
.badge-chip{
  position:absolute;
  top:14px; left:14px;
  padding: 6px 10px;
  border-radius:999px;
  font-size:.75rem;
  font-weight:1000;
  letter-spacing:.06em;
  display:inline-flex;
  align-items:center;
  gap:8px;
  border:1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(10px);
  box-shadow: 0 0 18px rgba(0,0,0,.55);
}
.badge-chip.redteam{ background: rgba(255,0,51,.16); color:#ff99cc; }
.badge-chip.pentester{ background: rgba(56,189,248,.16); color:#38bdf8; }
.badge-chip.mitigations{ background: rgba(34,197,94,.16); color:#4ade80; }

.card-body h4{
  font-weight: 1000;
  color:#e5f1ff;
  text-shadow: 0 0 18px rgba(56,189,248,.15);
  margin-bottom: 10px;
}
.card-body p{
  color:#cbd5e1;
  opacity:.88;
  line-height:1.4;
  min-height: 56px;
}
.meta{
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:10px;
  font-size:.8rem;
  color: var(--muted);
  margin-top: 10px;
}
.btn-neon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  width:100%;
  padding: 11px 16px;
  border-radius: 12px;
  font-weight:1000;
  letter-spacing:.08em;
  text-transform:uppercase;
  background: linear-gradient(90deg, var(--red), var(--pink));
  color:#020617 !important;
  border:0;
  box-shadow: 0 0 18px rgba(255,0,136,.30);
  transition:.25s ease;
}
.btn-neon:hover{
  transform: translateY(-3px);
  background: linear-gradient(90deg, var(--pink), #ff99ff);
  box-shadow: 0 0 26px rgba(255,0,136,.55);
}

/* Empty state */
#emptyState{
  display:none;
  text-align:center;
  margin-top:18px;
  color:#ffddea;
  opacity:.95;
}
#emptyState i{
  font-size:2rem;
  color:#ff99cc;
  text-shadow:0 0 15px rgba(255,0,136,.30);
}

/* BLUE THEME */
body.blue-theme{ --matrix-color:rgba(56,189,248,.85); }
body.blue-theme .hero{
  background:
    radial-gradient(circle at top,
      rgba(56,189,248,.35) 0%,
      rgba(0,80,120,.35) 35%,
      #020617 75%
    ),
    linear-gradient(180deg,#00131f,#000);
  border-bottom-color: rgba(56,189,248,.45);
  box-shadow:
    inset 0 0 120px rgba(56,189,248,.25),
    0 0 80px rgba(56,189,248,.35);
}
body.blue-theme .hero::after{
  background: linear-gradient(90deg, transparent, #38bdf8, #9ddcff, #38bdf8, transparent);
  box-shadow: 0 0 25px #38bdf8;
}
body.blue-theme .hero h1{
  background: linear-gradient(90deg,#fff,#9ddcff,#38bdf8);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:
    0 0 14px rgba(255,255,255,.45),
    0 0 30px rgba(56,189,248,.75),
    0 0 60px rgba(0,120,180,.65);
}
body.blue-theme .pill.active{
  background: linear-gradient(90deg,var(--blue),var(--blue2));
  box-shadow: 0 0 18px rgba(56,189,248,.45);
}
body.blue-theme .btn-neon{
  background: linear-gradient(90deg,var(--blue),var(--blue2));
  box-shadow: 0 0 18px rgba(56,189,248,.35);
}
body.blue-theme .search i{ color:#9ddcff; }
</style>
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="assets/img/la.png" alt="ByteZero Logo" class="navbar-logo me-2">
      <span>Buda Hack Security</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
      </ul>
    </div>
  </div>
</nav>

<header class="hero">
  <canvas id="matrix-canvas"></canvas>

  <div class="container">
    <h1 id="typewriter"></h1>

    <p>
      Advanced <strong>Red Team</strong> write-ups, pentest notes, and defensive mitigations.
      <span style="color:#ff99cc;font-weight:900;">For educational purposes only.</span>
    </p>

    <div class="controls">
      <button class="pill active" data-filter="all"><i class="bi bi-grid-3x3-gap"></i> All</button>
      <button class="pill" data-filter="redteam"><i class="bi bi-shield-lock"></i> Red Team</button>
      <button class="pill" data-filter="pentester"><i class="bi bi-terminal"></i> Pentester</button>
      <button class="pill" data-filter="mitigations"><i class="bi bi-shield-check"></i> Mitigations</button>

      <div class="search">
        <i class="bi bi-search"></i>
        <input id="searchInput" type="text" placeholder="Search... (e.g., AD, lateral movement, C2, evasion)">
      </div>

      <button class="pill" id="themeToggle" type="button">
        <i class="bi bi-lightning-fill"></i> Neon
      </button>
    </div>

    <div class="hero-line"></div>
  </div>
</header>

<section class="container my-5">
  <h2 class="section-title"><i class="bi bi-shield-lock-fill"></i> Red Team</h2>

  <div class="row g-4 justify-content-center" id="cardsGrid"></div>

  <div id="emptyState">
    <i class="bi bi-exclamation-triangle"></i>
    <p>No results found for your search/filter.</p>
  </div>
</section>

<footer class="footer text-center text-light py-4">
  <div class="container">
    <h5 class="footer-title">Buda Hack Security</h5>
    <p class="footer-subtitle">Pentest explorations, labs & write-ups</p>

    <div class="footer-social my-3">
      <a href="https://github.com/buda-sys/buda-sys" class="social-link"><i class="bi bi-github"></i></a>
      <a href="https://discord.gg/mqXsQYN3" class="social-link"><i class="bi bi-discord"></i></a>
      <a href="contact.html" class="social-link"><i class="bi bi-envelope"></i></a>
      <a href="disclaimer.html" class="social-link" title="Legal Disclaimer & Responsible Use"><i class="bi bi-shield-check"></i></a>
    </div>

    <p class="footer-copy mt-3 mb-0">
      © 2025 <span class="text-success">Buda Hack Security</span> — All rights reserved.
    </p>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", async () => {

  /* PERSISTENT THEME */
  const themeKey = "bz_theme";
  const savedTheme = localStorage.getItem(themeKey);
  if (savedTheme === "blue") document.body.classList.add("blue-theme");

  const themeToggle = document.getElementById("themeToggle");
  themeToggle.addEventListener("click", () => {
    document.body.classList.toggle("blue-theme");
    localStorage.setItem(themeKey, document.body.classList.contains("blue-theme") ? "blue" : "red");
  });

  /* TYPEWRITER */
  const typeEl = document.getElementById("typewriter");
  const text = "Red Team Write-ups & Mitigations";
  let i = 0;
  (function type() {
    typeEl.textContent = text.slice(0, i++);
    if (i <= text.length) setTimeout(type, 38);
  })();

  /* HELPERS */
  const cardsGrid = document.getElementById("cardsGrid");
  const emptyState = document.getElementById("emptyState");
  const searchInput = document.getElementById("searchInput");
  const pills = document.querySelectorAll(".pill[data-filter]");

  function escapeHtml(s){
    return (s ?? "").toString()
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"quot;")
      .replaceAll("'","&#039;");
  }

  function badgeClass(type){
    switch((type||"").toLowerCase()){
      case "redteam": return "redteam";
      case "pentester": return "pentester";
      case "mitigations": return "mitigations";
      default: return "redteam";
    }
  }
  function badgeIcon(type){
    switch((type||"").toLowerCase()){
      case "redteam": return "bi-shield-lock";
      case "pentester": return "bi-terminal";
      case "mitigations": return "bi-shield-check";
      default: return "bi-shield-lock";
    }
  }
  function badgeLabel(type){
    switch((type||"").toLowerCase()){
      case "redteam": return "Red Team";
      case "pentester": return "Pentester";
      case "mitigations": return "Mitigations";
      default: return "Red Team";
    }
  }

  /* LOAD JSON + RENDER */
  let items = [];
  try{
    const res = await fetch("data/redteam.json", { cache: "no-store" });
    if(!res.ok) throw new Error("Could not load data/redteam.json");
    items = await res.json();
  }catch(e){
    console.error(e);
    cardsGrid.innerHTML = "";
    emptyState.style.display = "block";
    emptyState.querySelector("p").textContent =
      "Error loading data/redteam.json. Serve the site (python -m http.server).";
    return;
  }

  if(!Array.isArray(items) || items.length === 0){
    cardsGrid.innerHTML = "";
    emptyState.style.display = "block";
    emptyState.querySelector("p").textContent = "No write-ups yet.";
    return;
  }

  const frag = document.createDocumentFragment();

  items.forEach(it => {
    const type = (it.type || "redteam").toLowerCase();
    const title = escapeHtml(it.title || "Write-up");
    const desc = escapeHtml(it.description || "");
    const duration = escapeHtml(it.duration || "");
    const tools = escapeHtml(it.tools || "");
    const thumb = escapeHtml(it.thumb || "assets/img/labs/spyware.png");
    const link = escapeHtml(it.link || "#");
    const tags = (it.tags || "").toLowerCase();

    const col = document.createElement("div");
    col.className = "col-12 col-sm-6 col-lg-4 lab-card";
    col.dataset.type = type;
    col.dataset.search = `${title.toLowerCase()} ${desc.toLowerCase()} ${tags}`;

    col.innerHTML = `
      <div class="neon-card">
        <div class="thumb">
          <img src="${thumb}" alt="${title}">
          <span class="badge-chip ${badgeClass(type)}">
            <i class="bi ${badgeIcon(type)}"></i> ${badgeLabel(type)}
          </span>
        </div>

        <div class="card-body text-center">
          <h4>${title}</h4>
          <p>${desc}</p>

          <div class="meta">
            <span><i class="bi bi-clock-history"></i> ${duration}</span>
            <span><i class="bi bi-tools"></i> ${tools}</span>
          </div>

          <a href="${link}" class="btn btn-neon mt-3">
            <i class="bi bi-box-arrow-up-right"></i> Open
          </a>
        </div>
      </div>
    `;
    frag.appendChild(col);
  });

  cardsGrid.innerHTML = "";
  cardsGrid.appendChild(frag);

  /* FILTER + SEARCH */
  const cards = Array.from(document.querySelectorAll(".lab-card"));
  let activeFilter = "all";

  function applyFilters() {
    const q = (searchInput.value || "").trim().toLowerCase();
    let visible = 0;

    cards.forEach(card => {
      const type = (card.dataset.type || "").toLowerCase();
      const hay = (card.dataset.search || card.innerText || "").toLowerCase();

      const matchType = (activeFilter === "all" || type === activeFilter);
      const matchSearch = (!q || hay.includes(q));
      const show = matchType && matchSearch;

      card.classList.toggle("hide", !show);

      if (show) {
        visible++;
        card.classList.remove("show");
        requestAnimationFrame(() => card.classList.add("show"));
      } else {
        card.classList.remove("show");
      }
    });

    emptyState.style.display = visible === 0 ? "block" : "none";
  }

  pills.forEach(btn => {
    btn.addEventListener("click", () => {
      pills.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      activeFilter = (btn.dataset.filter || "all").toLowerCase();
      applyFilters();
    });
  });

  searchInput.addEventListener("input", applyFilters);

  /* SCROLL REVEAL */
  const obs = new IntersectionObserver(entries => {
    entries.forEach(e => {
      if (e.isIntersecting && !e.target.classList.contains("hide")) {
        e.target.classList.add("show");
      }
    });
  }, { threshold: 0.15 });

  cards.forEach(c => obs.observe(c));

  applyFilters();
});
</script>

<script>
/* REAL MATRIX — HEADER ONLY */
(() => {
  const canvas = document.getElementById("matrix-canvas");
  if (!canvas) return;

  const hero = canvas.closest(".hero");
  const ctx = canvas.getContext("2d");
  let w, h, cols, drops;
  const fontSize = 18;

  function resize(){
    w = canvas.width = hero.offsetWidth;
    h = canvas.height = hero.offsetHeight;
    cols = Math.floor(w / fontSize);
    drops = Array(cols).fill(1);
  }
  resize();
  window.addEventListener("resize", resize);

  function draw(){
    ctx.fillStyle = "rgba(0,0,0,.15)";
    ctx.fillRect(0,0,w,h);
    ctx.fillStyle = getComputedStyle(hero).getPropertyValue("--matrix-color") || "rgba(255,0,120,.85)";
    ctx.font = fontSize + "px monospace";

    drops.forEach((y,i)=>{
      ctx.fillText(Math.random()>0.5?"1":"0", i*fontSize, y*fontSize);
      if (y*fontSize > h && Math.random() > 0.96) drops[i]=0;
      drops[i]++;
    });
    requestAnimationFrame(draw);
  }
  draw();
})();
</script>

</body>
</html>
